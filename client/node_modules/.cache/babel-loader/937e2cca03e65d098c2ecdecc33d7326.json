{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\6470b\\\\Desktop\\\\express\\\\client\\\\src\\\\components\\\\Score\\\\Score.js\";\nimport React, { useEffect, useRef } from \"react\";\nimport \"./Score.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { newGame } from \"../../actions/NewGame\";\n\nconst Score = props => {\n  const inputRef = useRef(null);\n  const score = useSelector(state => state.counter);\n  const doAgain = useSelector(state => state.doAgain);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    props.handle();\n  }, [score, props]);\n\n  const saveScore = (userScore, userName) => {\n    const temp = {};\n    temp.userName = userName;\n    temp.score = userScore;\n    return temp;\n  };\n\n  const setScore = obj => {\n    // const getData = JSON.parse(localStorage.getItem('react-game')) || [];\n    //\n    // if (getData.length) {\n    //\n    //   const newData = [...getData];\n    //   newData.push(obj);\n    //   localStorage.setItem('react-game', JSON.stringify(newData));\n    // } else {\n    //\n    //   localStorage.setItem('react-game', JSON.stringify([obj]));\n    // }\n    fetch('http://localhost:5000/api/setScore', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      body: JSON.stringify(obj)\n    }).then(response => response.json()).then(data => console.log(data));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"result\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"score\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, score), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"hint\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, \"press Space\")), doAgain ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"brt-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"result-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: inputRef,\n    type: \"text\",\n    placeholder: \"enter your name...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"again-btn\",\n    onClick: () => {\n      dispatch(newGame());\n      setScore(saveScore(score, inputRef.current.value));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, \"Again\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default Score;","map":{"version":3,"sources":["C:/Users/6470b/Desktop/express/client/src/components/Score/Score.js"],"names":["React","useEffect","useRef","useSelector","useDispatch","newGame","Score","props","inputRef","score","state","counter","doAgain","dispatch","handle","saveScore","userScore","userName","temp","setScore","obj","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","current","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,OAAO,aAAP;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,QAAwB,uBAAxB;;AAEA,MAAMC,KAAK,GAAGC,KAAK,IAAI;AAErB,QAAMC,QAAQ,GAAGN,MAAM,CAAC,IAAD,CAAvB;AACA,QAAMO,KAAK,GAAGN,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACC,OAAhB,CAAzB;AACA,QAAMC,OAAO,GAAGT,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACE,OAAhB,CAA3B;AACA,QAAMC,QAAQ,GAAGT,WAAW,EAA5B;AAEAH,EAAAA,SAAS,CAAC,MAAM;AAEdM,IAAAA,KAAK,CAACO,MAAN;AACD,GAHQ,EAGN,CAACL,KAAD,EAAQF,KAAR,CAHM,CAAT;;AAKA,QAAMQ,SAAS,GAAG,CAACC,SAAD,EAAYC,QAAZ,KAAyB;AAEzC,UAAMC,IAAI,GAAG,EAAb;AACAA,IAAAA,IAAI,CAACD,QAAL,GAAgBA,QAAhB;AACAC,IAAAA,IAAI,CAACT,KAAL,GAAaO,SAAb;AAEA,WAAOE,IAAP;AACD,GAPD;;AASA,QAAMC,QAAQ,GAAGC,GAAG,IAAI;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,IAAAA,KAAK,CAAC,oCAAD,EAAuC;AAC1CC,MAAAA,MAAM,EAAE,MADkC;AAE1CC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,uCAA+B;AAFxB,OAFiC;AAM1CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,GAAf;AANoC,KAAvC,CAAL,CAQGO,IARH,CAQQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EARpB,EASGF,IATH,CASQG,IAAI,IAAIC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAThB;AAUD,GAtBD;;AAwBA,sBACI,uDACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuBrB,KAAvB,CADF,eAEE;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,CADF,EAKIG,OAAO,gBACL;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,GAAG,EAAGJ,QAAb;AAAwB,IAAA,IAAI,EAAC,MAA7B;AAAoC,IAAA,WAAW,EAAC,oBAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE;AAAQ,IAAA,SAAS,EAAC,WAAlB;AAA8B,IAAA,OAAO,EAAE,MAAM;AAC3CK,MAAAA,QAAQ,CAACR,OAAO,EAAR,CAAR;AACAc,MAAAA,QAAQ,CAACJ,SAAS,CAACN,KAAD,EAAQD,QAAQ,CAACyB,OAAT,CAAiBC,KAAzB,CAAV,CAAR;AACC,KAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,CADK,gBAUL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfN,CADJ;AAuBD,CApED;;AAsEA,eAAe5B,KAAf","sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport \"./Score.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { newGame } from \"../../actions/NewGame\";\r\n\r\nconst Score = props => {\r\n\r\n  const inputRef = useRef(null);\r\n  const score = useSelector(state => state.counter);\r\n  const doAgain = useSelector(state => state.doAgain);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n\r\n    props.handle();\r\n  }, [score, props]);\r\n\r\n  const saveScore = (userScore, userName) => {\r\n    \r\n    const temp = {};\r\n    temp.userName = userName;\r\n    temp.score = userScore;\r\n  \r\n    return temp;\r\n  }\r\n\r\n  const setScore = obj => {\r\n    // const getData = JSON.parse(localStorage.getItem('react-game')) || [];\r\n    //\r\n    // if (getData.length) {\r\n    //\r\n    //   const newData = [...getData];\r\n    //   newData.push(obj);\r\n    //   localStorage.setItem('react-game', JSON.stringify(newData));\r\n    // } else {\r\n    //\r\n    //   localStorage.setItem('react-game', JSON.stringify([obj]));\r\n    // }\r\n    fetch('http://localhost:5000/api/setScore', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      },\r\n      body: JSON.stringify(obj)\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => console.log(data))\r\n  }\r\n\r\n  return (\r\n      <>\r\n        <div className=\"result\">\r\n          <p className=\"score\">{ score }</p>\r\n          <span className=\"hint\">press Space</span>\r\n        </div>\r\n        { doAgain ?\r\n            <div className=\"brt-wrap\">\r\n              <div className=\"result-wrap\">\r\n                <input ref={ inputRef } type=\"text\" placeholder=\"enter your name...\"/>\r\n              </div>\r\n              <button className=\"again-btn\" onClick={() => {\r\n                dispatch(newGame());\r\n                setScore(saveScore(score, inputRef.current.value))\r\n                }}>Again</button>\r\n            </div> :\r\n            <div>\r\n\r\n            </div>\r\n        }\r\n\r\n      </>\r\n  )\r\n}\r\n\r\nexport default Score;"]},"metadata":{},"sourceType":"module"}